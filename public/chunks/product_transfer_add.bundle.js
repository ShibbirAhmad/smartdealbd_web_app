(window.webpackJsonp=window.webpackJsonp||[]).push([[160],{1329:function(t,o,r){"use strict";r.r(o);var e=r(2),a=r.n(e),s=r(0),n=r(14),i=r.n(n);r(25);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a.a.use(i.a),a.a.component(s.HasError.name,s.HasError);var d={name:"Add",created:function(){this.getShowromList()},data:function(){return{form:new s.Form({showroom_id:"select showroom",products:[],status:0,total:0,comment:""}),search_product_code:"",product_code:"",products:[],product_quantity:1,errors:[],product_per_page:10,base_link:this.$store.state.image_base_link,showrooms:"",manager_name:"",manager_phone:"",address:"",item:10}},methods:{getShowromList:function(){var t=this;axios.get("/api/showroom/list").then((function(o){"SUCCESS"==o.data.status&&(t.showrooms=o.data.showrooms,t.loading=!1)}))},showroomInformation:function(t){var o=this;this.showrooms.forEach((function(r){r.id==t&&(console.log(r),o.address=r.address,o.manager_name=r.manager.name,o.manager_phone=r.manager.phone)}))},transferProductsIntoShowroom:function(){var t=this;c(this.form.showroom_id)!==c("string")?(this.$Progress.start(),this.form.post("/api/transfer/product/into/showroom").then((function(o){console.log(o),"SUCCESS"==o.data.status?(t.$Progress.finish(),t.$router.push({name:"product_transfer"}),t.$toasted.show(o.data.message,{type:"success",position:"top-center",duration:3e3})):t.$toasted.show(o.data.message,{type:"error",position:"top-center",duration:5e3})})).catch((function(o){t.errors=[],t.errors.push(o.response.data.errors),t.$Progress.finish()}))):window.alert("please,select any showroom")},searchProduct:function(){var t=this,o=this.product_code.length;console.log(o),4==o&&(this.$Progress.start(),axios.get("/search/product/with/code/"+this.product_code).then((function(o){if(console.log(o),"SUCCESS"==o.data.status){t.product_code="";for(var r={id:"",price:"",sale_price:"",quantity:1,total:""},e=0;e<o.data.product.length;e++){if(o.data.product[e].stock<=0)return Swal.fire({type:"warning",title:"Wopps....",html:"".concat(o.data.product[e].name," - <strong> ").concat(o.data.product[e].product_code," </strong> in <b>stcok not available</b>.")});r.id=o.data.product[e].id,r.price=o.data.product[e].sale_price,r.sale_price=o.data.product[e].sale_price,r.purchase_price=o.data.product[e].purchase_price,r.total=o.data.product[e].sale_price,console.log(t.products.push(o.data.product[e]))}t.form.products.push(r),t.totalCalculation()}else t.$toasted.show("Product not found with "+t.product_code,{position:"top-center",type:"danger",duration:2e3});t.$Progress.finish()})).catch((function(o){console.log(o),t.$Progress.finish()})))},quantity:function(t){if(parseInt(this.products[t].stock)<parseInt(this.form.products[t].quantity))return alert("max quantity ".concat(this.form.products[t].stock)),void(this.form.products[t].quantity=this.form.products[t].stock);this.form.products[t].total=parseInt(this.form.products[t].price)*parseInt(this.form.products[t].quantity),this.totalCalculation()},priceChange:function(t){this.form.products[t].total=parseInt(this.form.products[t].price)*parseInt(this.form.products[t].quantity),this.totalCalculation()},totalCalculation:function(){for(var t=this.form.products,o=0,r=0;r<t.length;r++)o+=parseInt(t[r].price)*parseInt(t[r].quantity);this.form.total=parseInt(o)},remove:function(t){console.log(this.form.products[t]),this.form.products.splice(t,1),this.products.splice(t,1),this.totalCalculation()}}},u=(r(835),r(1)),l=Object(u.a)(d,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",[r("admin-main"),t._v(" "),r("div",{staticClass:"content-wrapper"},[r("section",{staticClass:"content-header"},[r("h1",[r("router-link",{staticClass:"btn btn-primary ",attrs:{to:{name:"product_transfer"}}},[r("i",{staticClass:"fa fa-arrow-left"})])],1),t._v(" "),t._m(0)]),t._v(" "),r("section",{staticClass:"content"},[r("form",{attrs:{id:"searchProductform"},on:{submit:function(o){return o.preventDefault(),t.searchProduct(o)}}}),t._v(" "),r("form",{on:{submit:function(o){return o.preventDefault(),t.transferProductsIntoShowroom(o)},keydown:function(o){return t.form.onKeydown(o)}}},[r("div",{staticClass:"row justify-content-center"},[t.errors.length?r("div",{staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[r("ul",t._l(t.errors,(function(o){return r("div",[r("li",[t._v(t._s(o))]),t._v(" "),r("br")])})),0)]):t._e(),t._v(" "),r("div",{staticClass:"col-lg-4"},[r("div",{staticClass:"box box-primary"},[t._m(1),t._v(" "),r("div",{staticClass:"box-body"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:""}},[t._v("Showroom")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.form.showroom_id,expression:"form.showroom_id"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("showroom_id")},attrs:{name:"showroom_id",required:""},on:{change:[function(o){var r=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"showroom_id",o.target.multiple?r:r[0])},function(o){return t.showroomInformation(t.form.showroom_id)}]}},[r("option",{attrs:{disabled:""}},[t._v("select showroom")]),t._v(" "),t._l(t.showrooms,(function(o,e){return r("option",{key:e,domProps:{value:o.id}},[t._v("\n                          "+t._s(o.name)+"\n                        ")])}))],2),t._v(" "),r("has-error",{attrs:{form:t.form,field:"showroom_id"}})],1),t._v(" "),r("div",{staticClass:"form-group"},[r("label",[t._v("Manager Name ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.manager_name,expression:"manager_name"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.manager_name},on:{input:function(o){o.target.composing||(t.manager_name=o.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",[t._v("Manager Phone ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.manager_phone,expression:"manager_phone"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.manager_phone},on:{input:function(o){o.target.composing||(t.manager_phone=o.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",[t._v(" Address ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.address},on:{input:function(o){o.target.composing||(t.address=o.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",[t._v(" Comments(optional) ")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.comment,expression:"form.comment"}],staticClass:"form-control",attrs:{name:"comment",rows:"3"},domProps:{value:t.form.comment},on:{input:function(o){o.target.composing||t.$set(t.form,"comment",o.target.value)}}})])])])]),t._v(" "),r("div",{staticClass:"col-lg-8"},[r("div",{staticClass:"box box-success"},[t._m(2),t._v(" "),r("div",{staticClass:"box-body"},[r("div",{staticClass:"form-group"},[r("label",[t._v("Scan Barcode || prodcut code")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product_code,expression:"product_code"}],staticClass:"form-control",attrs:{type:"text",name:"name",autofocus:"",autocomplete:"off",placeholder:"Enter Product Code",form:"searchProductform"},domProps:{value:t.product_code},on:{input:function(o){o.target.composing||(t.product_code=o.target.value)}}})]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-12"},[r("table",{staticClass:"table table-striped table-hover table-bordered "},[t._m(3),t._v(" "),t.products.length>0?r("tbody",[t._l(t.products,(function(o,e){return r("tr",{key:e},[r("td",[t._v(t._s(e))]),t._v(" "),r("td",[t._v("\n                            "+t._s(o.name+"-"+o.product_code)+"\n                            "),r("input",{attrs:{type:"hidden"},domProps:{value:o.id}})]),t._v(" "),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.products[e].quantity,expression:"form.products[index].quantity"}],staticClass:"form-control",staticStyle:{width:"70px"},attrs:{type:"number"},domProps:{value:t.form.products[e].quantity},on:{keyup:function(o){return t.quantity(e)},change:function(o){return t.quantity(e)},input:function(o){o.target.composing||t.$set(t.form.products[e],"quantity",o.target.value)}}}),t._v(" "),r("span",{staticClass:"badge badge-danger"},[t._v(t._s(o.stock))])]),t._v(" "),r("td",[r("span",{staticClass:"badge badge-success "},[t._v(" ৳ "+t._s(o.purchase_price)+"  ")])]),t._v(" "),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.products[e].price,expression:"form.products[index].price"}],staticClass:"form-control",staticStyle:{width:"80px"},attrs:{type:"number"},domProps:{value:t.form.products[e].price},on:{keyup:function(o){return t.priceChange(e)},change:function(o){return t.quantity(e)},input:function(o){o.target.composing||t.$set(t.form.products[e],"price",o.target.value)}}})]),t._v(" "),r("td",[t._v("  ৳ "+t._s(t.form.products[e].total))]),t._v(" "),r("td",[r("a",{staticClass:"btn btn-danger btn-sm",on:{click:function(o){return t.remove(e)}}},[r("i",{staticClass:"fa fa-trash"})])])])})),t._v(" "),r("button",{staticClass:"btn btn-success",staticStyle:{"margin-top":"12px"},attrs:{type:"submit",disabled:t.form.busy}},[t._v("\n                          Submit\n                        ")])],2):t._e()])])])])])])])])])])],1)}),[function(){var t=this.$createElement,o=this._self._c||t;return o("ol",{staticClass:"breadcrumb"},[o("li",[o("a",{attrs:{href:"#"}},[o("i",{staticClass:"fa fa-dashboard"}),this._v("Dashboard ")])]),this._v(" "),o("li",{staticClass:"active"},[this._v("product transfer")])])},function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"box-header with-border"},[o("h3",{staticClass:"box-title"},[this._v("Showroom Information")])])},function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"box-header with-border"},[o("h3",{staticClass:"box-title"},[this._v("Product information")])])},function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("thead",[r("tr",[r("th",{attrs:{width:"3%"}},[t._v("#")]),t._v(" "),r("th",[t._v("Product")]),t._v(" "),r("th",[t._v("Quantity")]),t._v(" "),r("th",{attrs:{width:"10%",title:"purchase price "}},[t._v("Root Purchase Price")]),t._v(" "),r("th",{attrs:{width:"15%",title:" assign showroom purchase price"}},[t._v("Outlet Purchase Price")]),t._v(" "),r("th",[t._v("total")]),t._v(" "),r("th",{attrs:{width:"5%"}},[t._v("Remove")])])])}],!1,null,"5169fc1e",null);o.default=l.exports},247:function(t,o,r){var e=r(836);"string"==typeof e&&(e=[[t.i,e,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(5)(e,a);e.locals&&(t.exports=e.locals)},835:function(t,o,r){"use strict";var e=r(247);r.n(e).a},836:function(t,o,r){(t.exports=r(4)(!1)).push([t.i,"\n.mb-2[data-v-5169fc1e] {\r\n  margin-bottom: 5px !important;\n}\n.autocomplete[data-v-5169fc1e] {\r\n  max-height: 120px;\r\n  overflow-y: scroll;\r\n  position: absolute;\r\n  width: 100%;\r\n  z-index: 454;\n}\n.fa-search[data-v-5169fc1e] {\r\n  height: 33px;\r\n  width: 60px;\r\n  margin-left: -25px;\n}\n.autocomplete li[data-v-5169fc1e]:hover {\r\n  background: #222d32;\r\n  color: #ffffff;\n}\n.suggest-product img[data-v-5169fc1e] {\r\n  width: 120px;\r\n  height: 120px;\n}\n.suggest-product[data-v-5169fc1e] {\r\n  background: #ecf0f5;\r\n  text-align: center;\r\n  padding: 20px;\r\n  box-shadow: 0px 0px 1px 2px #ddd;\n}\n.add-item.text-center[data-v-5169fc1e] {\r\n  background: #fff;\r\n  width: block;\r\n  padding: 6px 5px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  margin-bottom: 18px;\n}\n.form-group.product-search[data-v-5169fc1e] {\r\n  width: 80%;\r\n  left: 10%;\r\n  position: relative;\n}\r\n",""])}}]);