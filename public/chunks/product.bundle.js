(window.webpackJsonp=window.webpackJsonp||[]).push([[154],{1244:function(t,o,s){"use strict";s.r(o);s(0),s(289);var a={created:function(){var t=this;this.productList(),setTimeout((function(){t.loading=!1}),500)},data:function(){return{products:{},loading:!0,basePath:"storage/",search:"",item:"30",status:"all",base_url:this.$store.state.image_thumbnail_link}},methods:{productList:function(){var t=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$Progress.start(),axios.get("/list/product?page="+o,{params:{status:this.status,item:this.item}}).then((function(o){t.products=o.data.products,t.$Progress.finish()})).catch((function(o){console.log(o),t.$Progress.finish()}))},copy:function(t){var o=this,s=prompt(" item of copy ?");s>0&&axios.get("/api/copy/product/"+t+"/"+s).then((function(t){console.log(t),"success"==t.data.status&&(o.$toasted.show(t.data.message,{type:"success",position:"top-center",duration:3e3}),o.productList())}))},approved:function(t){var o=this;Swal.fire({title:"Are you sure?",text:"You won't active this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(s){s.value?axios.get("/approved/product/"+t.id).then((function(t){"SUCCESS"==t.data.status?(o.productList(),o.$toasted.show(t.data.message,{position:"top-center",type:"success",duration:4e3})):o.$toasted.show("some thing want to wrong",{position:"top-center",type:"error",duration:4e3})})).catch((function(t){o.$toasted.show("some thing want to wrong",{position:"top-center",type:"error",duration:4e3})})):o.$toasted.show("OK ! no action here",{position:"top-center",type:"info",duration:3e3})}))},pending:function(t){var o=this;Swal.fire({title:"Are you sure?",text:"You won't pending this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(s){s.value?axios.get("/pending/product/"+t.id).then((function(t){"SUCCESS"==t.data.status?(o.productList(),o.$toasted.show(t.data.message,{position:"top-center",type:"success",duration:4e3})):o.$toasted.show("some thing want to wrong",{position:"top-center",type:"error",duration:4e3})})).catch((function(t){o.$toasted.show("some thing want to wrong",{position:"top-center",type:"error",duration:4e3})})):o.$toasted.show("Ok ! no action here",{position:"top-center",type:"info",duration:3e3})}))},deny:function(t){var o=this;Swal.fire({title:"Are you sure?",text:"You won't deny this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(s){s.value?axios.get("/deny/product/"+t.id).then((function(t){"SUCCESS"==t.data.status?(o.productList(),o.$toasted.show(t.data.message,{position:"top-center",type:"success",duration:4e3})):o.$toasted.show("some thing want to wrong",{position:"top-center",type:"error",duration:4e3})})).catch((function(t){o.$toasted.show("some thing want to wrong",{position:"top-center",type:"error",duration:4e3})})):o.$toasted.show("Ok ! no action here",{position:"top-center",type:"info",duration:3e3})}))},stockUpdate:function(t){var o=this,s=prompt("How many stock you want to update ?");console.log(s),axios.post("/stock/update/product/"+t.id,{stock:s}).then((function(t){"SUCCESS"==t.data.status?(o.productList(),o.$toasted.show(t.data.message,{position:"top-center",type:"success",duration:4e3})):o.$toasted.show("some thing want to wrong",{position:"top-center",type:"error",duration:4e3})})).catch((function(t){o.$toasted.show("ok ! no action here",{position:"top-right",type:"info",duration:4e3})}))},getPagination:function(){var t=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,this.$Progress.start(),axios.get("/list/product?page="+o).then((function(o){t.$Progress.finish(),t.loading=!1,t.products=o.data.products})).catch((function(t){console.log(t)}))},itemPerPage:function(){var t=this;this.loading=!0,this.$Progress.start(),axios.get("/list/product",{params:{item:this.item}}).then((function(o){t.$Progress.finish(),t.loading=!1,"SUCCESS"==o.data.status&&(t.products=o.data.products)})).catch((function(t){console.log(t)}))},searchProducts:function(){var t=this;this.search.length>1?axios.get("/api/search/seggested/product/with/name/code/"+this.search).then((function(o){console.log(o),o.data?(console.log(o.data),t.products=o.data):t.productList()})):this.productList()},changeDisplay:function(t){document.getElementById(t.id).classList.toggle("dropbtn-active")},print:function(t){var o="/product/print/barcode/"+t+"/"+prompt("How many time you want to print this product barcode?");window.open(o,"_blank")}}},n=(s(696),s(1)),e=Object(n.a)(a,(function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",[s("admin-main"),t._v(" "),s("div",{staticClass:"content-wrapper"},[s("section",{staticClass:"content-header"},[s("h1",[s("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"productAdd"}}},[s("i",{staticClass:"fa fa-plus"})]),t._v(" "),s("strong",[t._v("Product'table")])],1),t._v(" "),t._m(0)]),t._v(" "),s("section",{staticClass:"content"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-11 col-md-11"},[s("div",{staticClass:"box box-primary"},[s("div",{staticClass:"box-header with-border"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-2"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.item,expression:"item"}],staticClass:"form-control",on:{change:[function(o){var s=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.item=o.target.multiple?s:s[0]},function(o){return t.productList()}]}},[s("option",{attrs:{value:"30"}},[t._v("30")]),t._v(" "),s("option",{attrs:{value:"50"}},[t._v("50")]),t._v(" "),s("option",{attrs:{value:"100"}},[t._v("100")]),t._v(" "),s("option",{attrs:{value:"150"}},[t._v("150")]),t._v(" "),s("option",{attrs:{value:"200"}},[t._v("200")])])]),t._v(" "),s("div",{staticClass:"col-lg-4"}),t._v(" "),s("div",{staticClass:"col-lg-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{placeholder:"search with product code || product name "},domProps:{value:t.search},on:{keyup:function(o){return t.searchProducts()},input:function(o){o.target.composing||(t.search=o.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg-2"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],staticClass:"form-control",on:{change:[function(o){var s=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.status=o.target.multiple?s:s[0]},t.productList]}},[s("option",{attrs:{value:"all"}},[t._v("All")]),t._v(" "),s("option",{attrs:{value:"1"}},[t._v("Approved")]),t._v(" "),s("option",{attrs:{value:"2"}},[t._v("Pending")]),t._v(" "),s("option",{attrs:{value:"3"}},[t._v("Deny")])])])])]),t._v(" "),s("div",{staticClass:"box-body"},[s("table",{staticClass:"table text-center table-striped table-hover table-bordered ",attrs:{id:"table"}},[t._m(1),t._v(" "),s("tbody",[t.loading?s("h1",{staticClass:"text-center"},[s("i",{staticClass:"fa fa-spin fa-spinner"})]):t._l(t.products.data,(function(o,a){return s("tr",[s("td",{attrs:{scope:"row"}},[t._v(t._s(a+1))]),t._v(" "),s("td",[t._v(t._s(o.name))]),t._v(" "),s("td",{staticStyle:{width:"100px"}},[s("p",{staticClass:"barcode",domProps:{innerHTML:t._s(o.product_barcode.barcode)}}),t._v(" "),s("span",[t._v(t._s(o.product_barcode.barcode_number))])]),t._v(" "),s("td",[s("img",{staticClass:"table-image",attrs:{src:t.base_url+o.thumbnail_img,alt:"product image"}})]),t._v(" "),s("td",[t._v(t._s(o.sale_price))]),t._v(" "),s("td",[s("span",{staticClass:"badge badge-warning"},[t._v(t._s(o.discount?o.discount:"0"))])]),t._v(" "),s("td",[t._v(t._s(o.price))]),t._v(" "),s("td",[o.stock<=5?s("span",{staticClass:"badge badge-danger"},[t._v(t._s(o.stock))]):s("span",{staticClass:"badge badge-success"},[t._v(t._s(o.stock))])]),t._v(" "),s("td",[1==o.status?s("span",{staticClass:"badge badge-success"},[t._v("Approved")]):2==o.status?s("span",{staticClass:"badge badge-primary"},[t._v("Pending")]):s("span",{staticClass:"badge badge-warning"},[t._v("Deny")])]),t._v(" "),s("td",[s("i",{staticClass:"fa fa-bars",on:{click:function(s){return t.changeDisplay(o)}}}),t._v(" "),s("div",{staticClass:"dropdown-action",attrs:{id:o.id}},[1!=o.status?s("a",{staticClass:"dropdown-item btn btn-success btn-sm dropbtn",on:{click:function(s){return t.approved(o)}}},[t._v("Approved")]):t._e(),t._v(" "),2!=o.status?s("a",{staticClass:"dropdown-item btn btn-primary btn-sm dropbtn",on:{click:function(s){return t.pending(o)}}},[t._v("Pending")]):t._e(),t._v(" "),3!=o.status?s("a",{staticClass:"dropdown-item btn btn-warning btn-sm dropbtn",on:{click:function(s){return t.deny(o)}}},[t._v("Deny")]):t._e(),t._v(" "),s("a",{staticClass:"dropdown-item btn btn-info btn-sm dropbtn",on:{click:function(s){return t.copy(o.id)}}},[t._v("Copy")]),t._v(" "),s("a",{staticClass:"dropdown-item btn btn-warning btn-sm dropbtn",on:{click:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"print",void 0,s.key,void 0)?null:t.print(o.id)}}},[t._v("Print")]),t._v(" "),s("router-link",{staticClass:"btn btn-success btn-sm dropbtn",attrs:{to:{name:"productEdit",params:{id:o.id}}}},[t._v("Edit")])],1)])])}))],2)])]),t._v(" "),s("div",{staticClass:"box-footer"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6"},[s("pagination",{attrs:{data:t.products,limit:3},on:{"pagination-change-page":t.productList}})],1),t._v(" "),s("div",{staticClass:"col-lg-6 mt-1",staticStyle:{"margin-top":"25px","text-align":"right"}},[s("p",[t._v("\n                      Showing\n                      "),s("strong",[t._v(t._s(t.products.from))]),t._v(" to\n                      "),s("strong",[t._v(t._s(t.products.to))]),t._v(" of total\n                      "),s("strong",[t._v(t._s(t.products.total))]),t._v(" entries\n                    ")])])])])])])])])])])],1)}),[function(){var t=this.$createElement,o=this._self._c||t;return o("ol",{staticClass:"breadcrumb"},[o("li",[o("a",{attrs:{href:"#"}},[o("i",{staticClass:"fa fa-dashboard"}),this._v("Dashboard ")])]),this._v(" "),o("li",{staticClass:"active"},[this._v("Product Table")])])},function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("thead",[s("tr",[s("th",{attrs:{width:"5%"}},[t._v("#")]),t._v(" "),s("th",{attrs:{width:"10%"}},[t._v("name")]),t._v(" "),s("th",{attrs:{width:"10%"}},[t._v("barcode")]),t._v(" "),s("th",{attrs:{width:"10%"}},[t._v("image")]),t._v(" "),s("th",{attrs:{width:"5%"}},[t._v("price")]),t._v(" "),s("th",{attrs:{width:"5%"}},[t._v("discount")]),t._v(" "),s("th",{attrs:{width:"5%"}},[t._v("sale price")]),t._v(" "),s("th",{attrs:{width:"5%"}},[t._v("stock")]),t._v(" "),s("th",{attrs:{width:"5%"}},[t._v("status")]),t._v(" "),s("th",{attrs:{width:"10%"}},[t._v("action")])])])}],!1,null,"2c408f82",null);o.default=e.exports},178:function(t,o,s){var a=s(697);"string"==typeof a&&(a=[[t.i,a,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s(5)(a,n);a.locals&&(t.exports=a.locals)},696:function(t,o,s){"use strict";var a=s(178);s.n(a).a},697:function(t,o,s){(t.exports=s(4)(!1)).push([t.i,"\n.box[data-v-2c408f82]{\r\n  overflow-x:scroll;\n}\n.dropbtn[data-v-2c408f82] {\r\n  width: 100% !important;\r\n  margin-bottom: 5px !important;\n}\n.dropbtn-active[data-v-2c408f82] {\r\n  display: block !important;\n}\n.dropdown-action[data-v-2c408f82] {\r\n  display: none;\r\n  width: 90px;\r\n  position: absolute;\n}\r\n",""])}}]);