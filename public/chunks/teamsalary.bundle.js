(window.webpackJsonp=window.webpackJsonp||[]).push([[214],{1289:function(t,a,e){"use strict";e.r(a);var s={mounted:function(){this.getMemberSalary(),this.cDate()},data:function(){return{loading:!0,member:"",salaryList:"",basePath:this.$store.getters.image_base_link,options:{format:"YYYY-MM-DD",useCurrent:!1},salary_date:"",salary_amount:"",salary_comment:"Salary Of Month-",paid_salaryies:"",basic_salary:"",month:"",total_taken_amount:0,total_paid_amount:0}},methods:{getMemberSalary:function(){var t=this;axios.get("/api/member/salary/list/"+this.$route.params.id).then((function(a){console.log(a),t.member=a.data.member,t.salaryList=a.data.salary,t.paid_salaryies=a.data.paid_salary,t.total_taken_amount=a.data.total_taken_amount,t.total_paid_amount=a.data.total_paid_amount,t.loading=!1})).catch((function(t){console.log(t)}))},dateFiltaring:function(t){console.log(t);var a=new Date(t),e=new Intl.DateTimeFormat("en",{year:"numeric"}).format(a),s=new Intl.DateTimeFormat("en",{month:"long"}).format(a),n=new Intl.DateTimeFormat("en",{d:"2-digit"}).format(a);return"".concat(n,"-").concat(s,"-").concat(e)},total:function(){if(this.salaryList.length>0){var t=0;return this.salaryList.forEach((function(a){t+=parseInt(a.amount)})),t}},showModal:function(){this.$modal.show("example")},emloyeeSalaryPaid:function(){var t=this;this.salary_date.length<1?alert("Please Check Date Filed"):this.month.length<1?alert("Please Select A Month"):this.salary_amount.length<1?alert("Amount filed is empty"):this.salary_amount<1?alert("Amount Can not be smaller 1"):axios.get("/api/employee/salary/paid/",{params:{date:this.salary_date,amount:this.salary_amount,employee_id:this.member.id,comment:this.salary_comment,month:this.month}}).then((function(a){a.data&&(t.$toasted.show(a.data,{type:"warining",position:"top-center",duration:4e3}),t.getMemberSalary(),t.$modal.hide("example"))})).catch((function(t){console.log(t)}))},totalSalary:function(){if(this.paid_salaryies.length>0){var t=0;return this.paid_salaryies.forEach((function(a){t+=parseInt(a.amount)})),t}},cDate:function(){var t=new Date,a=t.getMonth()+1,e=t.getDate(),s=t.getFullYear()+"-"+((""+a).length<2?"0":"")+a+"-"+((""+e).length<2?"0":"")+e;this.salary_date=s}},watch:{month:function(t){this.salary_comment="Salary Of Month-"+t}}},n=(e(764),e(1)),o=Object(n.a)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("admin-main"),t._v(" "),e("div",{staticClass:"content-wrapper"},[e("section",{staticClass:"content-header"},[e("h1",[e("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"team_member"}}},[e("i",{staticClass:"fa fa-arrow-left"})])],1),t._v(" "),t._m(0)]),t._v(" "),e("section",{staticClass:"content"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row summery_row"},[e("div",{staticClass:"col-md-4 col-sm-4"},[e("div",{staticClass:"member-info"},[e("img",{staticClass:"member-image",attrs:{src:t.member.avator?t.basePath+t.member.avator:t.basePath+"images/static/user2-160x160.jpg",alt:t.member.name}}),t._v(" "),e("h4",{staticStyle:{"line-height":"0"}},[t._v(t._s(t.member.name))]),t._v(" "),e("h5",[t._v(t._s(t.member.designation))]),t._v(" "),e("h5",[t._v("Phone: "+t._s(t.member.phone))])])]),t._v(" "),e("div",{staticClass:"col-md-3 col-sm-3"},[e("div",{staticClass:"custom-box"},[t._v("\n              Total Taken Amount : "),e("strong",[t._v(t._s(parseInt(t.total_taken_amount)))])]),t._v(" "),e("div",{staticClass:"custom-box"},[t._v("\n              Total Paid Amount : "),e("strong",[t._v(t._s(parseInt(t.total_paid_amount)))])]),t._v(" "),e("div",{staticClass:"custom-box"},[t._v("Due/Advance Amount :\n                          "),e("strong",[t._v(t._s(parseInt(t.total_taken_amount)-parseInt(t.total_paid_amount))+" ")])])]),t._v(" "),e("div",{staticClass:"col-md-4 col-sm-4"})]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-5 col-md-5"},[t.loading?e("h1",{staticClass:"text-center"},[e("i",{staticClass:"fa fa-spin fa-spinner"})]):e("div",{staticClass:"box box-primary"},[e("div",{staticClass:"box-header with-border"}),t._v(" "),e("div",{staticClass:"box-body"},[Object.keys(t.salaryList).length?e("table",{staticClass:"table table-striped table-bordered text-center"},[t._m(1),t._v(" "),e("tbody",[t._l(t.salaryList,(function(a,s){return e("tr",{key:s},[e("td",[t._v(" "+t._s(a.date)+" ")]),t._v(" "),e("td",[t._v(t._s(a.comment))]),t._v(" "),e("td",[t._v(t._s(a.paid_by))]),t._v(" "),e("td",[t._v(t._s(a.amount))])])})),t._v(" "),e("tr",[e("td",{attrs:{colspan:"3"}},[t._v(" Total Taken  ")]),t._v(" "),e("td",[e("strong",[t._v(t._s(parseInt(t.total_taken_amount)))])])])],2)]):e("div",[e("h4",{staticClass:"text-uppercase text-center"},[e("strong",[t._v("\n                      No Salary preview AGAINST "+t._s(t.member.name))])]),t._v(" "),e("router-link",{staticClass:"btn btn-primary btn-block",attrs:{to:{name:"team_member"}}},[e("i",{staticClass:"fa fa-arrow-right"})])],1)])])]),t._v(" "),e("div",{staticClass:"col-lg-5 col-md-5"},[e("div",{staticClass:"box"},[e("div",{staticClass:"box-header with-border"}),t._v(" "),e("div",{staticClass:"box-body"},[e("table",{staticClass:"table table-striped table-bordered"},[t._m(2),t._v(" "),e("tbody",[t._l(t.paid_salaryies,(function(a,s){return e("tr",{key:s},[e("td",{staticStyle:{width:"100px"}},[t._v(t._s(s+1))]),t._v(" "),e("td",[t._v("\n                     "+t._s(a.date)+"\n                   ")]),t._v(" "),e("td",[e("strong",[t._v("\n                       "+t._s(a.month)+"\n                    ")])]),t._v(" "),e("td",[e("strong",[t._v("\n                       "+t._s(a.amount)+"\n                   ")])]),t._v(" "),e("td",[t._v("\n                     "+t._s(a.comment)+"\n                   ")])])})),t._v(" "),e("tr",[e("td",{attrs:{colspan:"3"}}),t._v(" "),e("td",[e("strong",[t._v(" = "+t._s(t.totalSalary()))])])])],2)]),t._v(" "),e("button",{staticClass:"btn btn-success",staticStyle:{"margin-top":"10px"},on:{click:t.showModal}},[t._v("\n                  Add Salary\n                ")])])])])])])])]),t._v(" "),e("modal",{attrs:{name:"example",width:400,height:400}},[e("div",{staticClass:"card",staticStyle:{padding:"20px"}},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Date")]),t._v(" "),e("date-picker",{attrs:{autocomplete:"off",config:t.options},model:{value:t.salary_date,callback:function(a){t.salary_date=a},expression:"salary_date"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("Month")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.month=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Select A Month")]),t._v(" "),e("option",{attrs:{value:"January-2021"}},[t._v("January-2021")]),t._v(" "),e("option",{attrs:{value:"February-2021"}},[t._v("February-2021")]),t._v(" "),e("option",{attrs:{value:"March-2021"}},[t._v("March-2021")]),t._v(" "),e("option",{attrs:{value:"April-2021"}},[t._v("April-2021")]),t._v(" "),e("option",{attrs:{value:"May-2021"}},[t._v("May-2021")]),t._v(" "),e("option",{attrs:{value:"Jun-2021"}},[t._v("Jun-2021")]),t._v(" "),e("option",{attrs:{value:"July-2021"}},[t._v("July-2021")]),t._v(" "),e("option",{attrs:{value:"Augest-2021"}},[t._v("Augest-2021")]),t._v(" "),e("option",{attrs:{value:"September-2021"}},[t._v("September-2021")]),t._v(" "),e("option",{attrs:{value:"Nomeber-2021"}},[t._v("Nomeber-2021")]),t._v(" "),e("option",{attrs:{value:"December-2021"}},[t._v("December-2021")])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("Amount")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.salary_amount,expression:"salary_amount"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.salary_amount},on:{input:function(a){a.target.composing||(t.salary_amount=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("Comment")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.salary_comment,expression:"salary_comment"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.salary_comment},on:{input:function(a){a.target.composing||(t.salary_comment=a.target.value)}}})]),t._v(" "),e("button",{staticClass:"btn btn-success btn-block",on:{click:t.emloyeeSalaryPaid}},[t._v("\n          Submit\n        ")])])])])],1)}),[function(){var t=this.$createElement,a=this._self._c||t;return a("ol",{staticClass:"breadcrumb"},[a("li",[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fa fa-dashboard"}),this._v("Dashboard")])]),this._v(" "),a("li",{staticClass:"active"},[this._v("member")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[this._v("Date")]),this._v(" "),a("th",{attrs:{scope:"col"}},[this._v("Comment")]),this._v(" "),a("th",{attrs:{scope:"col"}},[this._v("Paid By")]),this._v(" "),a("th",{attrs:{scope:"col"}},[this._v("Amount")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("#")]),t._v(" "),e("th",[t._v("Date")]),t._v(" "),e("th",[t._v("Month")]),t._v(" "),e("th",[t._v("Amount")]),t._v(" "),e("th",[t._v("Comment")])])])}],!1,null,"4f1ae48c",null);a.default=o.exports},211:function(t,a,e){var s=e(765);"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};e(5)(s,n);s.locals&&(t.exports=s.locals)},764:function(t,a,e){"use strict";var s=e(211);e.n(s).a},765:function(t,a,e){(t.exports=e(4)(!1)).push([t.i,"\n.dropbtn[data-v-4f1ae48c] {\r\n  width: 100% !important;\r\n  margin-bottom: 5px !important;\n}\n.dropbtn-active[data-v-4f1ae48c] {\r\n  display: block !important;\n}\n.dropdown-action[data-v-4f1ae48c] {\r\n  display: none;\r\n  width: 90px;\r\n  position: absolute;\n}\n.summery_row[data-v-4f1ae48c]{\r\n  margin-top: -40px;\n}\nimg.member-image[data-v-4f1ae48c] {\r\n  width: 100px;\r\n  height: 100px;\r\n  border-radius: 50%;\r\n  border: 3px solid #222d32;\r\n  padding: 3px;\r\n  line-height: 0;\n}\n.member-info[data-v-4f1ae48c] {\r\n  text-align: center;\n}\n.custom-box[data-v-4f1ae48c] {\r\n    height: 40px;\r\n    background: #fff;\r\n    padding: 10px 20px;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    margin-bottom: 15px;\r\n    box-shadow: 3px 3px 3px #ddd;\n}\r\n",""])}}]);