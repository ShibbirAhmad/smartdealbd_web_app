(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1307:function(t,a,s){"use strict";s.r(a);var o={created:function(){this.getLoans()},data:function(){return{loan:"",loading:!0,basePath:this.$store.getters.image_base_link,item:"",search:"",loanMode:!0,loans:"",loanpaids:"",loaner_id:""}},methods:{getLoans:function(){var t=this;axios.get("/api/loaners/details/"+this.$route.params.id).then((function(a){console.log(a),t.loans=a.data.loans,t.loanpaids=a.data.loanPaid,t.loaner_id=t.$route.params.id,t.loading=!1})).catch((function(t){console.log(t)}))},totalLoanAmount:function(){var t=0;return this.loans.forEach((function(a){t+=parseInt(a.amount)})),t},totalPaidAmount:function(){var t=0;return this.loanpaids.forEach((function(a){t+=parseInt(a.amount)})),t},addMore:function(){var t=this,a=prompt("Enter Amount: ");if(parseInt(a)>0){var s=prompt("Enter purpose: ");axios.get("/api/loan/store/"+this.$route.params.id,{params:{amount:a,purpose:s}}).then((function(a){"OK"==a.data.success?(alert("Loan added successfully"),t.getLoans()):alert("Error Found")})).catch((function(t){console.log(t)}))}}}},n=(s(809),s(1)),i=Object(n.a)(o,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("admin-main"),t._v(" "),s("div",{staticClass:"content-wrapper"},[s("section",{staticClass:"content-header"},[s("h1",[s("a",{staticClass:"btn btn-primary",on:{click:function(a){return a.preventDefault(),t.addMore(a)}}},[s("i",{staticClass:"fa fa-plus"})])]),t._v(" "),t._m(0)]),t._v(" "),s("section",{staticClass:"content"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-1"}),t._v(" "),s("div",{staticClass:"col-lg-3 __c_box"},[s("h4",[t._v("\n              Total Loan Amount:\n\n              "+t._s(t.totalLoanAmount())+"\n            ")])]),t._v(" "),s("div",{staticClass:"col-lg-3 __c_box"},[s("h4",[t._v("\n              Total Paid Amount:\n\n              "+t._s(t.totalPaidAmount())+"\n            ")])]),t._v(" "),s("div",{staticClass:"col-lg-3 __c_box"},[s("h4",[t._v("\n              Total Due Amount:\n\n              "+t._s(t.totalLoanAmount()-t.totalPaidAmount())+"\n            ")])])]),t._v(" "),s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-lg-8 col-lg-offset-1"},[s("div",{staticClass:"box box-primary"},[s("div",{staticClass:"box-header with-border"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-3"},[s("h3",{staticClass:"box-title",class:{bb:t.loanMode},on:{click:function(a){t.loanMode=!0}}},[t._v("\n                      Loan History\n                    ")]),t._v(" "),s("a",{staticClass:"btn btn-success",attrs:{href:"/api/loan/history/download/pdf/"+t.loaner_id,target:"_blank"}},[s("i",{staticClass:"fa fa-download"})])]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("h3",{staticClass:"box-title",class:{bb:!t.loanMode},on:{click:function(a){t.loanMode=!1}}},[t._v("\n                      Payment History\n                    ")]),t._v(" "),s("a",{staticClass:"btn btn-success",attrs:{href:"/api/loand/paid/history/download/pdf/"+t.loaner_id,target:"_blank"}},[s("i",{staticClass:"fa fa-download"})])])])]),t._v(" "),s("div",{staticClass:"box-body"},[t.loanMode?s("table",{staticClass:"table"},[t._m(1),t._v(" "),s("tbody",[t.loading?s("h1",{staticClass:"text-center"},[s("i",{staticClass:"fa fa-spin fa-spinner"})]):t._e(),t._v(" "),t._l(t.loans,(function(a,o){return s("tr",{key:o},[s("td",{attrs:{scope:"row"}},[t._v(t._s(o+1))]),t._v(" "),s("td",[t._v(t._s(a.date))]),t._v(" "),s("td",[t._v(t._s(a.purpose))]),t._v(" "),s("td",[t._v(t._s(a.amount))])])})),t._v(" "),s("tr",[s("td",{attrs:{colspan:"3"}}),t._v(" "),s("td",[s("strong",[t._v(" ="+t._s(t.totalLoanAmount()))])])])],2)]):s("table",{staticClass:"table"},[t._m(2),t._v(" "),s("tbody",[t.loading?s("h1",{staticClass:"text-center"},[s("i",{staticClass:"fa fa-spin fa-spinner"})]):t._e(),t._v(" "),t._l(t.loanpaids,(function(a,o){return s("tr",{key:o},[s("td",{attrs:{scope:"row"}},[t._v(t._s(o+1))]),t._v(" "),s("td",[t._v(t._s(a.date))]),t._v(" "),s("td",[t._v(t._s(a.comment))]),t._v(" "),s("td",[t._v(t._s(a.paid_by))]),t._v(" "),s("td",[t._v(t._s(a.amount))])])})),t._v(" "),s("tr",[s("td",{attrs:{colspan:"4"}}),t._v(" "),s("td",[s("strong",[t._v(" ="+t._s(t.totalPaidAmount()))])])])],2)])])])])])])])])],1)}),[function(){var t=this.$createElement,a=this._self._c||t;return a("ol",{staticClass:"breadcrumb"},[a("li",[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fa fa-dashboard"}),this._v("Dashboard")])]),this._v(" "),a("li",{staticClass:"active"},[this._v("Loaner")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[this._v("#")]),this._v(" "),a("th",{attrs:{scope:"col"}},[this._v("Date")]),this._v(" "),a("th",{attrs:{scope:"col"}},[this._v("Purpose")]),this._v(" "),a("th",{attrs:{scope:"col"}},[this._v("Amount")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Date")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Comment")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Paid By")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Amount")])])])}],!1,null,null,null);a.default=i.exports},235:function(t,a,s){var o=s(810);"string"==typeof o&&(o=[[t.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s(5)(o,n);o.locals&&(t.exports=o.locals)},809:function(t,a,s){"use strict";var o=s(235);s.n(o).a},810:function(t,a,s){(t.exports=s(4)(!1)).push([t.i,"\n.col-lg-3.__c_box {\r\n  padding: 10px;\r\n  background: #fff;\r\n  width: 250px;\r\n  height: 85px;\r\n  margin-right: 15px;\r\n  margin-bottom: 20px;\r\n  text-align: center;\r\n  box-shadow: 3px 3px 3px #ddd;\n}\n.box-title {\r\n  padding: 5px 6px;\r\n  cursor: pointer;\n}\n.bb {\r\n  border-bottom: 2px solid #000;\n}\r\n",""])}}]);