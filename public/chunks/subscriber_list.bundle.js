(window.webpackJsonp=window.webpackJsonp||[]).push([[205],{1308:function(t,s,a){"use strict";a.r(s);var i={created:function(){var t=this;setTimeout((function(){t.subscriberList()}),500)},data:function(){return{subscribers:{},loading:!0,item:"",search:""}},methods:{searchSubscriber:function(){var t=this;this.search.length>=2?axios.get("/api/subscriber/search/"+this.search).then((function(s){console.log(s),"OK"==s.data.status&&(t.subscribers=s.data.subscribers)})):this.subscriberList()},subscriberList:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;axios.get("/api/display/subscribers?page="+s,{params:{item:this.item}}).then((function(s){console.log(s),"OK"==s.data.status&&(t.subscribers=s.data.subscribers,t.loading=!1)}))},trashSubscriber:function(t,s){var a=this;Swal.fire({title:"Are you sure?",text:"Delete this slider!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(s){s.value&&axios.get("/api/subscriber/remove/"+t).then((function(t){a.subscriberList(),a.$toasted.show(t.data.message,{type:"alert",duration:3e3,position:"top-center"})}))}))},exportSubscribers:function(){window.open("/api/subscriber/exports")}}},e=a(1),r=Object(e.a)(i,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"content-wrapper"},[t._m(0),t._v(" "),a("section",{staticClass:"content"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-lg-10 col-lg-10 offset-1"},[a("div",{staticClass:"box box-primary"},[a("div",{staticClass:"box-header with-border"},[a("h3",{staticClass:"box-title"},[t._v("subscriber table")]),t._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"col-md-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.item,expression:"item"}],staticClass:"form-control",on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.item=s.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"10"}},[t._v("10")]),t._v(" "),a("option",{attrs:{value:"10"}},[t._v("20")]),t._v(" "),a("option",{attrs:{value:"30"}},[t._v("30")]),t._v(" "),a("option",{attrs:{value:"40"}},[t._v("40")]),t._v(" "),a("option",{attrs:{value:"50"}},[t._v("50")])])]),t._v(" "),a("div",{staticClass:"col-md-2"},[a("button",{staticClass:"btn btn-success",on:{click:t.exportSubscribers}},[a("i",{staticClass:"fa fa-download"}),t._v(" Export subscribers")])]),t._v(" "),a("div",{staticClass:"col-md-3"}),t._v(" "),a("div",{staticClass:"col-md-4"},[a("form",{attrs:{action:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"subscriber email  ",id:""},domProps:{value:t.search},on:{keyup:t.searchSubscriber,input:function(s){s.target.composing||(t.search=s.target.value)}}})])]),t._v(" "),t._m(1)])]),t._v(" "),a("div",{staticClass:"box-body"},[a("table",{staticClass:"table"},[t._m(2),t._v(" "),a("tbody",[t.loading?a("h1",{staticClass:"text-center"},[a("i",{staticClass:"fa fa-spin fa-spinner"})]):t._e(),t._v(" "),t._l(t.subscribers.data,(function(s,i){return a("tr",{key:i},[a("td",{attrs:{scope:"row"}},[t._v(t._s(i+1))]),t._v(" "),a("td",[t._v(t._s(s.email))]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-danger",on:{click:function(a){return t.trashSubscriber(s.id,i)}}},[a("i",{staticClass:"fa fa-trash"})])])])}))],2)])]),t._v(" "),a("div",{staticClass:"box-footer"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("pagination",{attrs:{data:t.subscribers,limit:3},on:{"pagination-change-page":t.subscriberList}})],1),t._v(" "),a("div",{staticClass:"col-lg-6 mt-1",staticStyle:{"margin-top":"25px","text-align":"right"}},[a("p",[t._v("\n                      Showing "),a("strong",[t._v(t._s(t.subscribers.from))]),t._v(" to\n                      "),a("strong",[t._v(t._s(t.subscribers.to))]),t._v(" of total\n                      "),a("strong",[t._v(t._s(t.subscribers.total))]),t._v(" entries\n                    ")])])])])])])])])])])])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("section",{staticClass:"content-header",staticStyle:{"margin-bottom":"20px"}},[s("ol",{staticClass:"breadcrumb"},[s("li",[s("a",{attrs:{href:"#"}},[s("i",{staticClass:"fa fa-dashboard"}),this._v("Dashboard")])]),this._v(" "),s("li",{staticClass:"active"},[this._v("subscriber")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-md-1"},[s("button",{staticClass:"btn btn-success",staticStyle:{"margin-left":"-23px"},attrs:{type:"submit"}},[this._v("\n                      search\n                    ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[this._v("#")]),this._v(" "),s("th",{attrs:{scope:"col"}},[this._v("Email")]),this._v(" "),s("th",{attrs:{scope:"col"}},[this._v("Action")])])])}],!1,null,null,null);s.default=r.exports}}]);