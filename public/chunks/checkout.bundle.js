(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{111:function(t,o,e){var s=e(564);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e(5)(s,i);s.locals&&(t.exports=s.locals)},1154:function(t,o,e){"use strict";e.r(o);var s=e(14),i=e.n(s),n=(e(25),e(0)),r={props:["categories"],created:function(){var t=this;this.getCity(),this.getCartContent(),this.$store.dispatch("general_setting"),setTimeout((function(){t.isLoading=!1,t.validation()}),1500)},data:function(){return{form:new n.Form({mobile_no:"",name:"",address:"",city:"",total:"",cart:"",shipping_cost:"",sub_city:"",coupon_discount:0,premium_member_discount:0,coupon_type:"",coupon_id:""}),isLoading:!0,fullPage:!0,cities:"",cart_content:{},customer_wallet_point:0,member_type:0,member_discount:0,product_discount:0,cart:{total:0},disabled:!0,sub_cities:"",coupon_code:"",coupon:!1}},methods:{chekout:function(){var t=this;this.form.post("/_public/checkout").then((function(o){console.log(o),"SUCCESS"==o.data.status?(window.open("/user/Checkout/success","_self"),t.$toasted.show(o.data.message,{type:"success",position:"top-center",duration:5e3})):t.$toasted.show("something went to wrong",{type:"error",position:"top-center",duration:2e3})})).catch((function(o){console.log(o),t.$toasted.show("something went to wrong",{type:"error",position:"top-center",duration:2e3})}))},getCity:function(){var t=this;axios.get("/_public/others").then((function(o){t.cities=o.data.cities})).catch((function(t){console.log(t)}))},selectCity:function(){for(var t=0;t<this.cities.length;t++)this.cities[t].id==this.form.city&&(this.form.shipping_cost=this.cities[t].delivery_charge);this.subCity(),this.validation()},getCartContent:function(t){var o=this;axios.get("/_public/cartToContent").then((function(t){o.cart.total=t.data.cart_total,o.form.total=t.data.cart_total}))},validation:function(){this.form.address.length<3||this.form.city.length<=0||this.form.total.length<=0||this.form.city<=0?this.disabled=!0:this.form.sub_city?this.disabled=!1:this.disabled=!0},subCity:function(){var t=this;this.form.city&&(this.isLoading=!0,axios.get("/api/city/wise/sub/city/"+this.form.city).then((function(o){o.data.length?(t.sub_cities.length>0&&(t.sub_cities=""),t.form.sub_city&&(t.form.sub_city=""),t.sub_cities=o.data):(t.form.sub_city="",t.sub_cities="",alert("No Sub City Under Selected Under City")),t.isLoading=!1,t.validation(),console.log(o)})).catch((function(o){console.log(o),t.isLoading=!1})))},applyCoupon:function(){var t=this;if(this.coupon_code.length<=0)return alert("Coupon Code Is Empty"),void document.getElementById("coupon_code").focus();this.form.city.length<=0?alert("Please Select City First"):axios.get("/_public/apply/coupon/code",{params:{coupoon_code:this.coupon_code}}).then((function(o){if("OK"==o.data.success){console.log(o);var e=0,s=o.data.coupon,i=t.form.total;e="percentage"==s.discount_type?parseInt(i)/parseInt(100)*parseInt(s.discount_amount):parseInt(s.discount_amount),t.form.coupon_discount=e.toFixed(2),t.form.coupon_id=s.id,t.$toasted.show(o.data.message,{type:"success",position:"top-center",duration:2e3}),t.coupon_code=""}else t.$toasted.show(o.data,{type:"error",position:"top-center",duration:2e3})})).catch((function(o){t.$toasted.show("something went to Wrong ",{type:"error",position:"top-center",duration:2e3})}))},applyMemberDiscount:function(){if(this.product_discount>0)this.$toasted.show("cart item products has already discount. your mimbership discount only apply if product has no discount",{type:"error",position:"top-center",duration:5e3});else{var t=parseInt(this.form.total),o=parseInt(this.member_discount);this.form.premium_member_discount=o*t/100,this.$toasted.show("membership discount applied successfully",{type:"success",position:"top-center",duration:3e3})}}},components:{Loading:i.a,HasError:n.HasError},computed:{general_setting:function(){return this.$store.getters.general_setting}},mounted:function(){var t=this;setTimeout((function(){t.selectCity()}),1e3)}},a=(e(563),e(1)),c=Object(a.a)(r,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"wrapper-wide"},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(o){t.isLoading=o}}}),t._v(" "),e("frontend-header",{attrs:{categories:t.categories}}),t._v(" "),e("div",{attrs:{id:"container"}},[e("div",{staticClass:"container"},[t.cart.total>0?e("div",{staticClass:"row"},[e("div",{attrs:{id:"content"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-5 col-md-5 col-sm-12 col-xs-12"},[e("div",{staticClass:"custom-box"},[e("h3",{staticStyle:{"text-align":"center"}},[t._v("Please Order Now")]),t._v(" "),e("form",{on:{submit:function(o){return o.preventDefault(),t.chekout(o)}}},[e("div",{staticClass:"form-grop"},[e("label",{staticClass:"control-label",attrs:{for:"input-email"}},[t._v("Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("name")},attrs:{type:"text",name:"name",autocomplete:"off",autofocus:""},domProps:{value:t.form.name},on:{input:function(o){o.target.composing||t.$set(t.form,"name",o.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"name"}})],1),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"form-grop"},[e("label",{staticClass:"control-label",attrs:{for:"mobile_no"}},[t._v("Mobile Number")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.mobile_no,expression:"form.mobile_no"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("mobile_no")},attrs:{type:"text",name:"mobile_no",placeholder:"01xxx-xxxxx",autocomplete:"off",maxlength:"11"},domProps:{value:t.form.mobile_no},on:{input:function(o){o.target.composing||t.$set(t.form,"mobile_no",o.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"mobile_no"}})],1),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label",attrs:{for:"input-password"}},[t._v("Address")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.address,expression:"form.address"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("address")},attrs:{name:"address",placeholder:"Address"},domProps:{value:t.form.address},on:{keyup:t.validation,input:function(o){o.target.composing||t.$set(t.form,"address",o.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"address"}}),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label",attrs:{for:"input-email"}},[t._v("City")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.city,expression:"form.city"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("city")},attrs:{name:"city"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"city",o.target.multiple?e:e[0])},t.selectCity]}},[e("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("Select City")]),t._v(" "),t._l(t.cities,(function(o,s){return e("option",{key:s,attrs:{value:""},domProps:{value:o.id}},[t._v(t._s(o.name))])}))],2),t._v(" "),e("has-error",{attrs:{form:t.form,field:"city"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("Sub City")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.sub_city,expression:"form.sub_city"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("sub_city")},attrs:{name:"sub_city"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"sub_city",o.target.multiple?e:e[0])},t.validation]}},[e("option",{attrs:{disabled:"",value:""}},[t._v("select sub city")]),t._v(" "),t._l(t.sub_cities,(function(o){return t.sub_cities.length>0?e("option",{key:o.id,domProps:{value:o.id}},[t._v(t._s(o.name))]):t._e()}))],2),t._v(" "),e("has-error",{attrs:{form:t.form,field:"sub_city"}})],1),t._v(" "),e("br")],1),t._v(" "),e("button",{staticClass:"btn btn-block btn-primary",attrs:{type:"submit",disabled:t.form.busy||t.disabled}},[t.form.busy?e("i",{staticClass:"fa fa-spinner fa-spin"}):t._e(),t._v("PLACE ORDER\n                  ")])])])]),t._v(" "),e("div",{staticClass:"col-lg-5 col-md-5 col-xs-12 col-sm-12"},[e("div",{staticClass:"custom-box"},[e("div",{staticClass:"cart-total"},[e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("td",[t._v("Total")]),t._v(" "),e("td",{attrs:{colspan:"4"}}),t._v(" "),e("td",[t._v("\n                          :\n                          "),t.form.shipping_cost?e("span",[t._v("৳ "+t._s(t.form.total))]):e("span",[t._v(".....")])])]),t._v(" "),e("br"),t._v(" "),t.form.coupon_discount>0?e("tr",[e("td",[t._v("Coupon Discount")]),t._v(" "),e("td",{attrs:{colspan:"4"}}),t._v(" "),e("td",[t._v("\n                          :\n                          "),t.form.coupon_discount?e("span",[t._v("৳ "+t._s(t.form.coupon_discount))]):t._e()])]):t._e(),t._v(" "),e("br"),t._v(" "),t.form.premium_member_discount>0?e("tr",[e("td",[t._v("Membership Discount")]),t._v(" "),e("td",{attrs:{colspan:"4"}}),t._v(" "),e("td",[t._v("\n                          :\n                          "),t.form.premium_member_discount?e("span",[t._v("৳ "+t._s(t.form.premium_member_discount))]):t._e()])]):t._e(),t._v(" "),e("br"),t._v(" "),e("tr",[e("td",[t._v("Shipping cost")]),t._v(" "),e("td",{attrs:{colspan:"4"}}),t._v(" "),e("td",[t._v("\n                          :\n                          "),t.form.shipping_cost?e("span",[t._v("৳ "+t._s(t.form.shipping_cost))]):e("span",[t._v(".....")])])]),t._v(" "),e("br"),t._v(" "),e("tr",[e("td",[t._v("Total")]),t._v(" "),e("td",{attrs:{colspan:"4"}}),t._v(" "),e("td",[t._v("\n                               :\n                          "),t.form.shipping_cost?e("span",[t._v("৳ "+t._s(parseInt(t.form.total.replace(",","")-parseInt(t.form.coupon_discount)-parseInt(t.form.premium_member_discount))+parseInt(t.form.shipping_cost)))]):e("span",[t._v(".....")])])])])])])])]),t._v(" "),e("div",{staticClass:"col-lg-5 col-md-5 col-xs-12 col-sm-12",staticStyle:{"margin-top":"10px"}},[e("br"),t._v(" "),e("div",{staticClass:"custom-box"},[e("ul",{staticClass:"list-group"},[e("li",{directives:[{name:"show",rawName:"v-show",value:t.member_type.length,expression:"member_type.length"}],staticClass:"list-group-item"},[e("h5",{staticClass:"extra_d "},[t._v(" you are now "+t._s(t.member_type)+" member\n                       "),e("a",{staticClass:"btn btn-primary p_a_btn",on:{click:t.applyMemberDiscount}},[t._v("apply "+t._s(t.member_discount)+" % discount ")])])]),t._v(" "),e("li",{staticClass:"list-group-item"},[e("h5",{staticClass:" extra_d coupon-apply",on:{click:function(o){o.preventDefault(),t.coupon=!t.coupon}}},[t._v("Have you any cupon? "),e("i",{staticClass:"fa fa-angle-down"})])])]),t._v(" "),t.coupon?e("div",{staticClass:"coupon"},[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",staticStyle:{width:"60%"},attrs:{id:"coupon_code",type:"text"},domProps:{value:t.coupon_code},on:{input:function(o){o.target.composing||(t.coupon_code=o.target.value)}}}),t._v(" "),e("button",{staticClass:"btn btn-primary",staticStyle:{"border-radius":"0px"},attrs:{disabled:t.coupon_code.length<=0},on:{click:function(o){return o.preventDefault(),t.applyCoupon(o)}}},[t._v("Apply")])])]):t._e()])])])])]):e("div",{staticClass:"row"},[t._m(1)])])]),t._v(" "),e("frontend-footer")],1)}),[function(){var t=this.$createElement,o=this._self._c||t;return o("label",{attrs:{for:""}},[o("strong",[this._v("Apply Coupon Here")])])},function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"empty-cart"},[o("h4",{staticClass:"text-uppercase"},[this._v("your cart is empty")]),this._v(" "),o("img",{staticClass:"empty_cart_icon",attrs:{src:"https://mohasagor.com/public/storage//images/static/cartEmpty.jpg"}}),this._v(" "),o("br"),this._v(" "),o("a",{staticClass:"home_btn",attrs:{href:"/"}},[this._v(" Home Page")])])}],!1,null,null,null);o.default=c.exports},563:function(t,o,e){"use strict";var s=e(111);e.n(s).a},564:function(t,o,e){(t.exports=e(4)(!1)).push([t.i,"\n.extra_d {\r\n  cursor: pointer;\r\n  font-size: 16px;\n}\n.extra_d a {\r\n \theight: 31px;\r\n\tposition: absolute;\r\n\tmargin: -8px 10px;\r\n\tborder-radius: 5px;\r\n\twidth: 34%;\n}\n.extra_d i {\r\n    font-size: 25px;\r\n    position: absolute;\r\n    margin: -3px 10px;\n}\n.empty-cart {\r\n    width: 50%;\r\n    background: #fff;\r\n    text-align: center;\r\n    margin-left: 25%;\r\n    padding: 50px 50px;\r\n    box-shadow: 3px 3px 3px #ddd;\n}\n.home_btn{\r\n    background: #ff4d03;\r\n    color: #fff;\r\n    padding: 12px 15px;\r\n    border-radius: 5px;\n}\n.empty_cart_icon{\r\n    margin-bottom: 50px;\r\n    margin-top: 50px;\n}\n@media screen and (max-width:768px) {\n.empty-cart {\r\n      width: 100%;\r\n      height: 430px;\r\n      background: #fff;\r\n      text-align: center;\r\n      margin-left: 1%;\r\n      padding: 10px 10px;\r\n      box-shadow: 3px 3px 3px #ddd;\n}\n.empty_cart_icon{\r\n      margin-bottom:30px;\r\n      margin-top: 5px;\n}\n.extra_d a {\r\n    height: 32px;\r\n    position: relative;\r\n    margin: 10px 0px;\r\n    border-radius: 5px;\r\n    width: 72%;\n}\n}\r\n",""])}}]);