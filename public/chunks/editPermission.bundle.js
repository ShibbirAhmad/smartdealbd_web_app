(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{1220:function(t,s,r){"use strict";r.r(s);var e=r(2),o=r.n(e),i=r(0);function n(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,s){if(!t)return;if("string"==typeof t)return a(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,s)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,s){(null==s||s>t.length)&&(s=t.length);for(var r=0,e=new Array(s);r<s;r++)e[r]=t[r];return e}o.a.component(i.HasError.name,i.HasError);var c={name:"Add",created:function(){this.getPermissonList()},data:function(){return{form:new i.Form({permissons_id:[]}),role:"",permissons:[],role_has_permissons:[],loading:!0,error:""}},methods:{getPermissonList:function(){var t=this;axios.get("/api/permissions/edit/role/"+this.$route.params.id).then((function(s){var r;console.log(s.data.role_has_permissons),t.role=s.data.role,(r=t.permissons).push.apply(r,n(s.data.permissons)),s.data.role_has_permissons.length&&s.data.role_has_permissons.forEach((function(s){t.form.permissons_id.push(s)})),t.loading=!1})).catch((function(t){console.log(t)}))},update:function(){var t=this;this.form.post("/api/permissions/update/role/"+this.$route.params.id).then((function(s){s.data?(t.$router.push({name:"role"}),t.$toasted.show(s.data,{type:"success",position:"top-right",duration:3e3})):t.error="some thing want to wrong"})).catch((function(s){console.log(s),t.error="some thing want to wrong"}))}}},l=(r(675),r(1)),m=Object(l.a)(c,(function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("div",[r("admin-main"),t._v(" "),r("div",{staticClass:"content-wrapper"},[r("section",{staticClass:"content-header"},[r("h1",[r("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"role"}}},[r("i",{staticClass:"fa fa-arrow-right"})])],1),t._v(" "),t._m(0)]),t._v(" "),r("section",{staticClass:"content"},[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-lg-6 col-lg-offset-2"},[r("div",{staticClass:"box box-primary"},[t._m(1),t._v(" "),r("div",{staticClass:"box-body"},[t.loading?r("h1",[r("i",{staticClass:"fa fa-spinner fa-spin"})]):r("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(s){return s.preventDefault(),t.update(s)},keydown:function(s){return t.form.onKeydown(s)}}},[t.error?r("div",{staticClass:"alert-danger alert"},[t._v("\n                  "+t._s(t.error)+"\n                ")]):t._e(),t._v(" "),r("div",{staticClass:"form-group"},[r("label",[t._v("Role Name")]),t._v(" "),r("input",{staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.role.name}})]),t._v(" "),t._m(2),t._v(" "),r("div",{staticClass:"row"},t._l(t.permissons,(function(s){return r("div",{key:s.id,staticClass:"col-lg-3"},[r("label",{attrs:{for:"permission_"+s.id}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.permissons_id,expression:"form.permissons_id"}],attrs:{id:"permission_"+s.id,type:"checkbox"},domProps:{value:s.id,checked:Array.isArray(t.form.permissons_id)?t._i(t.form.permissons_id,s.id)>-1:t.form.permissons_id},on:{change:function(r){var e=t.form.permissons_id,o=r.target,i=!!o.checked;if(Array.isArray(e)){var n=s.id,a=t._i(e,n);o.checked?a<0&&t.$set(t.form,"permissons_id",e.concat([n])):a>-1&&t.$set(t.form,"permissons_id",e.slice(0,a).concat(e.slice(a+1)))}else t.$set(t.form,"permissons_id",i)}}}),t._v("\n                         "+t._s(s.name)+"\n                      ")])])})),0),t._v(" "),r("br"),t._v(" "),r("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.busy,type:"submit"}},[t.form.busy?r("i",{staticClass:"fa fa-spin fa-spinner"}):t._e(),t._v("Submit\n                ")])])])])])])])])],1)}),[function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{staticClass:"breadcrumb"},[s("li",[s("a",{attrs:{href:"#"}},[s("i",{staticClass:"fa fa-dashboard"}),this._v("Dashboard")])]),this._v(" "),s("li",{staticClass:"active"},[this._v("Permissons")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"box-header with-border"},[s("h3",{staticClass:"box-title"},[this._v("Edit Role Permissions")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",[s("strong",[this._v("PERMISSIONS LIST ")])])}],!1,null,"4a78578e",null);s.default=m.exports},168:function(t,s,r){var e=r(676);"string"==typeof e&&(e=[[t.i,e,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(5)(e,o);e.locals&&(t.exports=e.locals)},675:function(t,s,r){"use strict";var e=r(168);r.n(e).a},676:function(t,s,r){(t.exports=r(4)(!1)).push([t.i,"\n.mb-2[data-v-4a78578e] {\r\n  margin-bottom: 5px !important;\n}\r\n",""])}}]);