(window.webpackJsonp=window.webpackJsonp||[]).push([[192],{1330:function(a,t,o){"use strict";o.r(t);var e=o(2),r=o.n(e),s=o(0);o(16);r.a.component(s.HasError.name,s.HasError);var i={created:function(){this.getShowroms(),this.getManager()},data:function(){return{form:new s.Form({showroom_id:"select showroom",name:"",email:"",phone:"",address:"",image:""}),loading:!0,showrooms:"",basePath:this.$store.state.image_base_link}},methods:{getManager:function(){var a=this;axios.get("/api/showroom/manager/edit/item/"+this.$route.params.id).then((function(t){console.log(t),a.form.showroom_id=t.data.manager.showroom_id,a.form.name=t.data.manager.name,a.form.email=t.data.manager.email,a.form.phone=t.data.manager.phone,a.form.address=t.data.manager.address,a.form.image=t.data.manager.image,a.loading=!1}))},getShowroms:function(){var a=this;axios.get("/api/showroom/list").then((function(t){"SUCCESS"==t.data.status&&(a.showrooms=t.data.showrooms)}))},updateManager:function(){var a=this;this.form.post("/api/showroom/manager/update/"+this.$route.params.id,{transformRequest:[function(a,t){return objectToFormData(a)}]}).then((function(t){console.log(t),"OK"==t.data.success&&(a.$router.push({name:"showroom_manager"}),a.$toasted.show(t.data.message,{type:"success",showroom:"top-center",duration:4e3}))}))},uploadImage:function(a){var t=a.target.files[0];this.form.image=t;var o=new FileReader;o.readAsDataURL(t),o.onload=function(a){var t=new Image;t.onload=function(){console.log(t.width+"-"+t.height)},t.src=a.target.result,document.getElementById("m_profile").src=a.target.result}}}},n=(o(832),o(1)),m=Object(n.a)(i,(function(){var a=this,t=a.$createElement,o=a._self._c||t;return o("div",[o("admin-main"),a._v(" "),o("div",{staticClass:"content-wrapper"},[o("section",{staticClass:"content-header"},[o("h1",[o("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"showroom_manager"}}},[o("i",{staticClass:"fa fa-arrow-left"})])],1),a._v(" "),a._m(0)]),a._v(" "),o("section",{staticClass:"content"},[o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"col-lg-8 col-md-8 col-lg-offset-2"},[o("div",{staticClass:"box box-primary"},[a._m(1),a._v(" "),o("div",{staticClass:"box-body"},[o("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),a.updateManager(t)},keydown:function(t){return a.form.onKeydown(t)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[a._v("Showroom")]),a._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:a.form.showroom_id,expression:"form.showroom_id"}],staticClass:"form-control",class:{"is-invalid":a.form.errors.has("showroom_id")},attrs:{name:"showroom_id"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.form,"showroom_id",t.target.multiple?o:o[0])}}},[o("option",{attrs:{disabled:""}},[a._v("select showroom")]),a._v(" "),a._l(a.showrooms,(function(t,e){return o("option",{key:e,domProps:{value:t.id}},[a._v("\n                          "+a._s(t.name)+"\n                        ")])}))],2),a._v(" "),o("has-error",{attrs:{form:a.form,field:"showroom_id"}})],1)]),a._v(" "),o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"form-group"},[o("label",[a._v("Name")]),a._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:a.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":a.form.errors.has("name")},attrs:{type:"text",name:"name",autofocus:"",autocomplete:"off",placeholder:"name"},domProps:{value:a.form.name},on:{input:function(t){t.target.composing||a.$set(a.form,"name",t.target.value)}}}),a._v(" "),o("has-error",{attrs:{form:a.form,field:"name"}})],1)])]),a._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"form-group"},[o("label",[a._v("Email")]),a._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:a.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":a.form.errors.has("email")},attrs:{type:"email",name:"email",autofocus:"",autocomplete:"off",placeholder:"email"},domProps:{value:a.form.email},on:{input:function(t){t.target.composing||a.$set(a.form,"email",t.target.value)}}}),a._v(" "),o("has-error",{attrs:{form:a.form,field:"email"}})],1)]),a._v(" "),o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"phone"}},[a._v("Phone")]),a._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:a.form.phone,expression:"form.phone"}],staticClass:"form-control",class:{"is-invalid":a.form.errors.has("phone")},attrs:{type:"text",autocomplete:"off",autofocus:"",name:"phone",id:""},domProps:{value:a.form.phone},on:{input:function(t){t.target.composing||a.$set(a.form,"phone",t.target.value)}}}),a._v(" "),o("has-error",{attrs:{form:a.form,field:"phone"}})],1)])]),a._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"address"}},[a._v("Address")]),a._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:a.form.address,expression:"form.address"}],staticClass:"form-control",class:{"is-invalid":a.form.errors.has("address")},attrs:{type:"text",autocomplete:"off",autofocus:"",name:"address"},domProps:{value:a.form.address},on:{input:function(t){t.target.composing||a.$set(a.form,"address",t.target.value)}}}),a._v(" "),o("has-error",{attrs:{form:a.form,field:"address"}})],1),a._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-6"},[o("br"),a._v(" "),o("div",{staticClass:"form-group"},[o("label",[a._v("Image")]),a._v(" "),o("input",{staticClass:"form-control",class:{"is-invalid":a.form.errors.has("image")},attrs:{type:"file",name:"image"},on:{change:a.uploadImage}}),a._v(" "),o("has-error",{attrs:{form:a.form,field:"image"}})],1)]),a._v(" "),o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"form-group text-center"},[o("img",{staticClass:"manager_profile",attrs:{id:"m_profile",src:a.basePath+a.form.image}})])])]),a._v(" "),o("div",{staticClass:"form-group text-center"},[o("button",{staticClass:"btn btn-primary",attrs:{disabled:a.form.busy,type:"submit"}},[a.form.busy?o("i",{staticClass:"fa fa-spin fa-spinner"}):a._e(),a._v("Save\n                  ")])])])])])])])])])],1)}),[function(){var a=this.$createElement,t=this._self._c||a;return t("ol",{staticClass:"breadcrumb"},[t("li",[t("a",{attrs:{href:"#"}},[t("i",{staticClass:"fa fa-dashboard"}),this._v("Manager")])]),this._v(" "),t("li",{staticClass:"active"},[this._v("Edit")])])},function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"box-header with-border text-center"},[t("h3",{staticClass:"box-title"},[this._v("Edit Showroom Manager")])])}],!1,null,"0f17742d",null);t.default=m.exports},245:function(a,t,o){var e=o(833);"string"==typeof e&&(e=[[a.i,e,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o(5)(e,r);e.locals&&(a.exports=e.locals)},832:function(a,t,o){"use strict";var e=o(245);o.n(e).a},833:function(a,t,o){(a.exports=o(4)(!1)).push([a.i,"\n.mb-2[data-v-0f17742d] {\r\n  margin-bottom: 5px !important;\n}\n.manager_profile[data-v-0f17742d]{\r\n   width:100px;\r\n   height: 100px;\r\n   border-radius: 50%;\r\n   border:1px solid #ddd;\n}\r\n\r\n",""])}}]);