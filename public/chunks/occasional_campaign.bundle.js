(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{1323:function(t,a,o){"use strict";o.r(a);var e=o(2),r=o.n(e),s=o(0);r.a.component(s.HasError.name,s.HasError);var n={name:"subCategory",created:function(){this.getOccasionCampaign()},data:function(){return{form:new s.Form({id:"",heading:"",quote:"",product_code_one:"",product_code_two:"",campaign_background:"",status:""}),error:"",loading:!0,base_url:this.$store.state.image_base_link,preview_campaign_background:this.$store.state.image_base_link+"images/no_image.jpg"}},methods:{getOccasionCampaign:function(){var t=this;axios.get("/api/get/occasion/campaign").then((function(a){console.log(a),"OK"==a.data.status&&(t.form.id=a.data.campaign.id,t.form.status=a.data.campaign.status,t.form.heading=a.data.campaign.heading,t.form.quote=a.data.campaign.quote,t.form.product_code_one=a.data.campaign.product_code_one,t.form.product_code_two=a.data.campaign.product_code_two,t.form.campaign_background=a.data.campaign.background_image,t.loading=!1,t.form.campaign_background&&(t.preview_campaign_background=t.base_url+t.form.campaign_background))}))},updateOccasionalCampaign:function(){var t=this;this.form.post("/api/edit/occasion/campaign/"+this.form.id,{transformRequest:[function(t,a){return objectToFormData(t)}]}).then((function(a){console.log(a),"SUCCESS"==a.data.status?(t.$toasted.show(a.data.message,{type:"success",position:"top-center",duration:4e3}),t.getOccasionCampaign()):t.error="some thing want to wrong"}))},uploadcampaign_background:function(t){var a=this,o=t.target.files[0];if(o.type.match("image.*")){var e=new FileReader;e.readAsDataURL(o),e.onload=function(t){var e=new Image;e.onload=function(){console.log(e.width,e.height),a.setcampaign_background(o,t)},e.src=t.target.result}}else Swal.fire({type:"warning",text:"this is not any kind of image"})},setcampaign_background:function(t,a){this.disabled=!1,this.form.campaign_background=t,this.preview_campaign_background=a.target.result},clickImage:function(){document.getElementById("uploadLogo").click()}}},i=(o(820),o(1)),c=Object(i.a)(n,(function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("admin-main"),t._v(" "),o("div",{staticClass:"content-wrapper"},[t._m(0),t._v(" "),o("section",{staticClass:"content"},[o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"col-lg-8 col-lg-offset-2"},[o("div",{staticClass:"box box-primary"},[t._m(1),t._v(" "),o("div",{staticClass:"box-body"},[t.error?o("div",{staticClass:"alert-danger alert"},[t._v(t._s(t.error))]):t._e(),t._v(" "),o("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.updateOccasionalCampaign(a)},keydown:function(a){return t.form.onKeydown(a)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-8"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"invoice"}},[t._v("Short Qoute ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.quote,expression:"form.quote"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("quote")},attrs:{type:"text",placeholder:"",name:"quote"},domProps:{value:t.form.quote},on:{input:function(a){a.target.composing||t.$set(t.form,"quote",a.target.value)}}}),t._v(" "),o("has-error",{attrs:{form:t.form,field:"quote"}})],1)]),t._v(" "),o("div",{staticClass:"col-md-4"},[o("div",{staticClass:"form-group"},[o("label",{staticStyle:{color:"red"},attrs:{for:""}},[t._v("*")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.form.status,expression:"form.status"}],staticClass:"form-control",attrs:{name:"status"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"status",a.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"1"}},[t._v("active")]),t._v(" "),o("option",{attrs:{value:"0"}},[t._v("de-active")])])])])]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"invoice"}},[t._v("Short Heading ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.heading,expression:"form.heading"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("heading")},attrs:{type:"text",placeholder:"",name:"heading"},domProps:{value:t.form.heading},on:{input:function(a){a.target.composing||t.$set(t.form,"heading",a.target.value)}}}),t._v(" "),o("has-error",{attrs:{form:t.form,field:"heading"}})],1),t._v(" "),o("div",{staticClass:"form-group"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-6"},[o("label",{attrs:{for:"product_code"}},[t._v(" Product_Code Top ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.product_code_one,expression:"form.product_code_one"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("product_code_one")},attrs:{type:"text",name:"product_code_one"},domProps:{value:t.form.product_code_one},on:{input:function(a){a.target.composing||t.$set(t.form,"product_code_one",a.target.value)}}}),t._v(" "),o("has-error",{attrs:{form:t.form,field:"product_code_one"}})],1),t._v(" "),o("div",{staticClass:"col-md-6"},[o("label",{attrs:{for:"product_two"}},[t._v(" Product_Code Bottom ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.product_code_two,expression:"form.product_code_two"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("product_code_two")},attrs:{type:"text",name:"product_code_two"},domProps:{value:t.form.product_code_two},on:{input:function(a){a.target.composing||t.$set(t.form,"product_code_two",a.target.value)}}}),t._v(" "),o("has-error",{attrs:{form:t.form,field:"product_code_two"}})],1)])]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"campaign_background"}},[t._v("Upload campaign_background")]),t._v(" "),o("img",{attrs:{id:"campaignBackground",src:t.preview_campaign_background},on:{click:t.clickImage}}),t._v(" "),o("input",{staticClass:"form-control",attrs:{id:"uploadLogo",type:"file",name:"campaign_background"},on:{change:t.uploadcampaign_background}})]),t._v(" "),o("div",{staticClass:"form-group text-center"},[o("button",{staticClass:"btn btn-primary ",attrs:{disabled:t.form.busy,type:"submit"}},[t.form.busy?o("i",{staticClass:"fa fa-spin fa-spinner"}):t._e(),t._v("Submit\n                ")])])])])])])])])])],1)}),[function(){var t=this.$createElement,a=this._self._c||t;return a("section",{staticClass:"content-header"},[a("ol",{staticClass:"breadcrumb"},[a("li",[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fa fa-dashboard"}),this._v("Dashboard ")])]),this._v(" "),a("li",{staticClass:"active"},[this._v("campaign")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"box-header text-center with-border"},[a("h3",{staticClass:"box-title"},[this._v("Set Occasional Campaign")])])}],!1,null,"0d45c2a8",null);a.default=c.exports},239:function(t,a,o){var e=o(821);"string"==typeof e&&(e=[[t.i,e,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o(5)(e,r);e.locals&&(t.exports=e.locals)},820:function(t,a,o){"use strict";var e=o(239);o.n(e).a},821:function(t,a,o){(t.exports=o(4)(!1)).push([t.i,"\n#uploadLogo[data-v-0d45c2a8] {\n    display: none;\n}\n#campaignBackground[data-v-0d45c2a8] {\n        border: 1px solid #ddd;\n        padding: 5px;\n        cursor: pointer;\n        margin-left: 25px;\n        width: 565px;\n        height: 325px;\n}\n\n\n\n",""])}}]);